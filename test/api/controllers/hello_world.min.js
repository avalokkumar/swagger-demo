var should = require("should"), request = require("supertest"), server = require("../../../app");

describe("controllers", function() {
    describe("hello_world", function() {
        describe("GET /hello", function() {
            it("should return a default string", function(e) {
                request(server).get("/hello").set("Accept", "application/json").expect("Content-Type", /json/).expect(200).end(function(t, o) {
                    should.not.exist(t), o.body.should.eql("Hello, stranger!"), e();
                });
            }), it("should accept a name parameter", function(e) {
                request(server).get("/hello").query({
                    name: "Scott"
                }).set("Accept", "application/json").expect("Content-Type", /json/).expect(200).end(function(t, o) {
                    should.not.exist(t), o.body.should.eql("Hello, Scott!"), e();
                });
            });
        });
    });
});